function Swipe(n,t){"use strict";var e=function(){},i=function(n){setTimeout(n||e,0)},o={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(n){var t=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var e in t)if(void 0!==n.style[t[e]])return!0;return!1}(document.createElement("swipe"))};if(n){var s,r,a,u,c=n.children[0];t=t||{};var d=parseInt(t.startSlide,10)||0,l=t.speed||300;t.continuous=void 0===t.continuous||t.continuous;var v,h,f=t.auto||0,w={},E={},m={handleEvent:function(n){switch(n.type){case"touchstart":this.start(n);break;case"touchmove":this.move(n);break;case"touchend":i(this.end(n));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":i(this.transitionEnd(n));break;case"resize":i(p.call())}t.stopPropagation&&n.stopPropagation()},start:function(n){var t=n.touches[0];w={x:t.pageX,y:t.pageY,time:+new Date},h=void 0,E={},c.addEventListener("touchmove",this,!1),c.addEventListener("touchend",this,!1)},move:function(n){if(!(n.touches.length>1||n.scale&&1!==n.scale)){t.disableScroll&&n.preventDefault();var e=n.touches[0];E={x:e.pageX-w.x,y:e.pageY-w.y},void 0===h&&(h=!!(h||Math.abs(E.x)<Math.abs(E.y))),h||(n.preventDefault(),k(),t.continuous?(y(b(d-1),E.x+r[b(d-1)],0),y(d,E.x+r[d],0),y(b(d+1),E.x+r[b(d+1)],0)):(E.x=E.x/(!d&&E.x>0||d==s.length-1&&E.x<0?Math.abs(E.x)/a+1:1),y(d-1,E.x+r[d-1],0),y(d,E.x+r[d],0),y(d+1,E.x+r[d+1],0)))}},end:function(n){var e=+new Date-w.time,i=Number(e)<250&&Math.abs(E.x)>20||Math.abs(E.x)>a/2,o=!d&&E.x>0||d==s.length-1&&E.x<0;t.continuous&&(o=!1);var u=E.x<0;h||(i&&!o?(u?(t.continuous?(T(b(d-1),-a,0),T(b(d+2),a,0)):T(d-1,-a,0),T(d,r[d]-a,l),T(b(d+1),r[b(d+1)]-a,l),d=b(d+1)):(t.continuous?(T(b(d+1),a,0),T(b(d-2),-a,0)):T(d+1,a,0),T(d,r[d]+a,l),T(b(d-1),r[b(d-1)]+a,l),d=b(d-1)),t.callback&&t.callback(d,s[d])):t.continuous?(T(b(d-1),-a,l),T(d,0,l),T(b(d+1),a,l)):(T(d-1,-a,l),T(d,0,l),T(d+1,a,l))),c.removeEventListener("touchmove",m,!1),c.removeEventListener("touchend",m,!1)},transitionEnd:function(n){parseInt(n.target.getAttribute("data-index"),10)==d&&(f&&L(),t.transitionEnd&&t.transitionEnd.call(n,d,s[d]))}};return p(),f&&L(),o.addEventListener?(o.touch&&c.addEventListener("touchstart",m,!1),o.transitions&&(c.addEventListener("webkitTransitionEnd",m,!1),c.addEventListener("msTransitionEnd",m,!1),c.addEventListener("oTransitionEnd",m,!1),c.addEventListener("otransitionend",m,!1),c.addEventListener("transitionend",m,!1)),window.addEventListener("resize",m,!1)):window.onresize=function(){p()},{setup:function(){p()},slide:function(n,t){k(),g(n,t)},prev:function(){k(),(t.continuous||d)&&g(d-1)},next:function(){k(),x()},getPos:function(){return d},getNumSlides:function(){return u},kill:function(){k(),c.style.width="auto",c.style.left=0;for(var n=s.length;n--;){var t=s[n];t.style.width="100%",t.style.left=0,o.transitions&&y(n,0,0)}o.addEventListener?(c.removeEventListener("touchstart",m,!1),c.removeEventListener("webkitTransitionEnd",m,!1),c.removeEventListener("msTransitionEnd",m,!1),c.removeEventListener("oTransitionEnd",m,!1),c.removeEventListener("otransitionend",m,!1),c.removeEventListener("transitionend",m,!1),window.removeEventListener("resize",m,!1)):window.onresize=null}}}function p(){s=c.children,u=s.length,s.length<2&&(t.continuous=!1),o.transitions&&t.continuous&&s.length<3&&(c.appendChild(s[0].cloneNode(!0)),c.appendChild(c.children[1].cloneNode(!0)),s=c.children),r=new Array(s.length),a=n.getBoundingClientRect().width||n.offsetWidth,c.style.width=s.length*a+"px";for(var e=s.length;e--;){var i=s[e];i.style.width=a+"px",i.setAttribute("data-index",e),o.transitions&&(i.style.left=e*-a+"px",T(e,d>e?-a:d<e?a:0,0))}t.continuous&&o.transitions&&(T(b(d-1),-a,0),T(b(d+1),a,0)),o.transitions||(c.style.left=d*-a+"px"),n.style.visibility="visible"}function x(){(t.continuous||d<s.length-1)&&g(d+1)}function b(n){return(s.length+n%s.length)%s.length}function g(n,e){if(d!=n){if(o.transitions){var u=Math.abs(d-n)/(d-n);if(t.continuous){var v=u;(u=-r[b(n)]/a)!==v&&(n=-u*s.length+n)}for(var h=Math.abs(d-n)-1;h--;)T(b((n>d?n:d)-h-1),a*u,0);n=b(n),T(d,a*u,e||l),T(n,0,e||l),t.continuous&&T(b(n-u),-a*u,0)}else n=b(n),function(n,e,i){if(!i)return void(c.style.left=e+"px");var o=+new Date,r=setInterval((function(){var a=+new Date-o;if(a>i)return c.style.left=e+"px",f&&L(),t.transitionEnd&&t.transitionEnd.call(event,d,s[d]),void clearInterval(r);c.style.left=(e-n)*(Math.floor(a/i*100)/100)+n+"px"}),4)}(d*-a,n*-a,e||l);d=n,i(t.callback&&t.callback(d,s[d]))}}function T(n,t,e){y(n,t,e),r[n]=t}function y(n,t,e){var i=s[n],o=i&&i.style;o&&(o.webkitTransitionDuration=o.MozTransitionDuration=o.msTransitionDuration=o.OTransitionDuration=o.transitionDuration=e+"ms",o.webkitTransform="translate("+t+"px,0)translateZ(0)",o.msTransform=o.MozTransform=o.OTransform="translateX("+t+"px)")}function L(){v=setTimeout(x,f)}function k(){f=0,clearTimeout(v)}}(window.jQuery||window.Zepto)&&function(n){n.fn.Swipe=function(t){return this.each((function(){n(this).data("Swipe",new Swipe(n(this)[0],t))}))}}(window.jQuery||window.Zepto);